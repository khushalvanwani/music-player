(this["webpackJsonpreact-music-player"]=this["webpackJsonpreact-music-player"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),i=a(8),r=a.n(i),n=a(3),o=a(4),l=a(0);var d=e=>{let{currentSong:t,isPlaying:a,setIsPlaying:c,audioRef:s,setSongInfo:i,songInfo:r,songs:d,setCurrentSong:u,id:h,setSongs:j}=e;const b=e=>{const t=d.map((t=>t.id===e.id?{...t,active:!0}:{...t,active:!1}));j(t),console.log("Hey from useEffect form player JS")},m=()=>{a?(s.current.pause(),c(!a)):(s.current.play(),c(!a))},p=e=>Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2),g=async e=>{let c=d.findIndex((e=>e.id===t.id));if("skip-forward"===e&&(await u(d[(c+1)%d.length]),b(d[(c+1)%d.length])),"skip-back"===e){if((c-1)%d.length===-1)return await u(d[d.length-1]),void b(d[d.length-1]);await u(d[(c-1)%d.length]),b(d[(c-1)%d.length])}a&&s.current.play()},f={transform:`translateX(${r.animationPercentage}%)`};return Object(l.jsxs)("div",{className:"player",children:[Object(l.jsxs)("div",{className:"time-control",children:[Object(l.jsx)("p",{children:p(r.currentTime)}),Object(l.jsxs)("div",{style:{background:`linear-gradient(to right, ${t.color[0]}, ${t.color[1]})`},className:"track",children:[Object(l.jsx)("input",{min:0,max:r.duration||0,value:r.currentTime,onChange:e=>{s.current.currentTime=e.target.value,i({...r,currentTime:e.target.value})},type:"range"}),Object(l.jsx)("div",{style:f,className:"animate-track"})]}),Object(l.jsx)("p",{children:r.duration?p(r.duration):"00:00"})]}),Object(l.jsxs)("div",{className:"play-control",children:[Object(l.jsx)(n.a,{onClick:()=>g("skip-back"),size:"2x",className:"skip-back",icon:o.a}),a?Object(l.jsx)(n.a,{onClick:m,size:"2x",className:"pause",icon:o.d}):Object(l.jsx)(n.a,{onClick:m,size:"2x",className:"play",icon:o.e}),Object(l.jsx)(n.a,{onClick:()=>g("skip-forward"),size:"2x",className:"skip-forward",icon:o.b})]})]})};var u=e=>{let{currentSong:t}=e;return Object(l.jsxs)("div",{className:"song-container",children:[Object(l.jsx)("img",{src:t.cover,alt:t.name}),Object(l.jsx)("h2",{children:t.name}),Object(l.jsx)("h3",{children:t.artist})]})},h=(a(19),a(22));var j=function(){return[{name:"Beaver Creek",cover:"https://cms.chillhop.com/media/78387/squarel9cfe1a9f1dbf76a04cf4c343dbdb6049acb11147.jpg",artist:"Aso, Middle School, Aviino",audio:"https://mp3.chillhop.com/serve.php/?mp3=10075",color:["#205950","#2ab3bf"],id:Object(h.a)(),active:!0},{name:"Daylight",cover:"https://cms.chillhop.com/media/78572/squarel23713085c0a2c1161163e44028168cb65653f057.jpg",artist:"Aiguille",audio:"https://mp3.chillhop.com/serve.php/?mp3=9272",color:["#EF8EA9","#ab417f"],id:Object(h.a)(),active:!1},{name:"Keep Going",cover:"https://cms.chillhop.com/media/42443/squarel973ae6f7b847fbfe9e2f6a2efbf2a9121ac8285f.jpg",artist:"Sw\xf8rn",audio:"https://mp3.chillhop.com/serve.php/?mp3=9222",color:["#CD607D","#c94043"],id:Object(h.a)(),active:!1},{name:"Nightfall",cover:"https://cms.chillhop.com/media/4923/squarelcd050898ca06fdfdb7fcf2313304d952c6dd8e41.jpg",artist:"Aiguille",audio:"https://mp3.chillhop.com/serve.php/?mp3=9148",color:["#EF8EA9","#ab417f"],id:Object(h.a)(),active:!1},{name:"Reflection",cover:"https://cms.chillhop.com/media/6825/squarel2a048a5780723e66fff64c3a60814ea64761284f.jpg",artist:"Sw\xf8rn",audio:"https://mp3.chillhop.com/serve.php/?mp3=9228",color:["#CD607D","#c94043"],id:Object(h.a)(),active:!1},{name:"Under the City Stars",cover:"https://cms.chillhop.com/media/77821/squarelf9d8e2b0b25e5cea0517e11d5c8da28b6adb576e.jpg",artist:"Aso, Middle School, Aviino",audio:"https://mp3.chillhop.com/serve.php/?mp3=10074",color:["#205950","#2ab3bf"],id:Object(h.a)(),active:!1}]};var b=e=>{let{song:t,songs:a,setCurrentSong:c,audioRef:s,isPlaying:i,setSongs:r,id:n}=e;return Object(l.jsxs)("div",{onClick:async()=>{await c(t);const e=a.map((e=>e.id===n?{...e,active:!0}:{...e,active:!1}));r(e),i&&s.current.play()},className:"library-song "+(t.active?"selected":""),children:[Object(l.jsx)("img",{src:t.cover,alt:t.name}),Object(l.jsxs)("div",{className:"song-description",children:[Object(l.jsx)("h3",{children:t.name}),Object(l.jsx)("h4",{children:t.artist})]})]})};var m=e=>{let{songs:t,setCurrentSong:a,audioRef:c,isPlaying:s,setSongs:i,setLibraryStatus:r,libraryStatus:n}=e;return Object(l.jsxs)("div",{className:"library "+(n?"active":""),children:[Object(l.jsx)("h2",{children:"Library"}),Object(l.jsx)("div",{className:"library-songs",children:t.map((e=>Object(l.jsx)(b,{setSongs:i,isPlaying:s,audioRef:c,songs:t,song:e,setCurrentSong:a,id:e.id},e.id)))})]})};var p=e=>{let{setLibraryStatus:t,libraryStatus:a}=e;return Object(l.jsxs)("nav",{children:[Object(l.jsx)("h1",{children:"Waves"}),Object(l.jsxs)("button",{onClick:()=>{t(!a)},children:["Library",Object(l.jsx)(n.a,{icon:o.c})]})]})};var g=function(){const[e,t]=Object(c.useState)(j()),[a,s]=Object(c.useState)(e[0]),[i,r]=Object(c.useState)(!1),[n,o]=Object(c.useState)(!1),h=Object(c.useRef)(null),[b,g]=Object(c.useState)({currentTime:0,duration:0,animationPercentage:0}),f=e=>{const t=e.target.currentTime,a=e.target.duration,c=Math.round(t),s=Math.round(a),i=Math.round(c/s*100);console.log(),g({currentTime:t,duration:a,animationPercentage:i})};return Object(l.jsxs)("div",{children:[Object(l.jsx)(p,{libraryStatus:n,setLibraryStatus:o}),Object(l.jsx)(u,{currentSong:a}),Object(l.jsx)(d,{id:e.id,songs:e,songInfo:b,setSongInfo:g,audioRef:h,isPlaying:i,setIsPlaying:r,currentSong:a,setCurrentSong:s,setSongs:t}),Object(l.jsx)(m,{libraryStatus:n,setLibraryStatus:o,setSongs:t,isPlaying:i,audioRef:h,songs:e,setCurrentSong:s}),Object(l.jsx)("audio",{onLoadedMetadata:f,onTimeUpdate:f,src:a.audio,ref:h,onEnded:async()=>{let t=e.findIndex((e=>e.id===a.id));await s(e[(t+1)%e.length]),i&&h.current.play()}})]})};var f=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then((t=>{let{getCLS:a,getFID:c,getFCP:s,getLCP:i,getTTFB:r}=t;a(e),c(e),s(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),f()}},[[20,1,2]]]);
//# sourceMappingURL=main.2c3d587a.chunk.js.map